(()=>{"use strict";var e,t,n,o,a,r,c,u,s,i,l,d,m,f,v,h,p,y,g,L,b,E;(function(e){var t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds");function a(){var a,r,c,u=(a=(new Date(e).getTime()-(new Date).getTime())/1e3,r=Math.floor(a%60),c=Math.floor(a/60%60),{hours:Math.floor(a/60/60),minutes:c,seconds:r});u.seconds<10&&(u.seconds="0"+u.seconds),u.minutes<10&&(u.minutes="0"+u.minutes),u.hours<10&&(u.hours="0"+u.hours),t.textContent=u.hours,n.textContent=u.minutes,o.textContent=u.seconds}a();var r=setInterval(a,1e3,e);(new Date).getTime()>=new Date(e).getTime()&&(clearInterval(r),t.textContent="00",n.textContent="00",o.textContent="00")})("1 january 2022"),b=document.querySelector(".menu"),E=document.querySelector("menu"),b.addEventListener("click",(function(){E.classList.toggle("active-menu")})),E.addEventListener("click",(function(e){e.target.matches("a")&&E.classList.remove("active-menu")})),y=document.querySelector(".service-header"),g=document.querySelectorAll(".service-header-tab"),L=document.querySelectorAll(".service-tab"),y.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&g.forEach((function(e,n){e===t&&function(e){for(var t=0;t<L.length;t++)e===t?(g[t].classList.add("active"),L[t].classList.remove("d-none")):(g[t].classList.remove("active"),L[t].classList.add("d-none"))}(n)}))})),function(){var e=document.querySelector(".portfolio-content"),t=document.querySelector(".portfolio-dots"),n=document.querySelectorAll(".portfolio-item");n.length>0&&n.forEach((function(e,n){var o=document.createElement("li");o.classList.add("dot"),0===n&&o.classList.add("dot-active"),t.append(o)}));var o,a=document.querySelectorAll(".dot"),r=0,c=function(e,t,n){e[t].classList.remove(n)},u=function(e,t,n){e[t].classList.add(n)},s=function(){c(n,r,"portfolio-item-active"),c(a,r,"dot-active"),++r>=n.length&&(r=0),u(n,r,"portfolio-item-active"),u(a,r,"dot-active")},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;o=setInterval(s,e)};e.addEventListener("click",(function(e){e.preventDefault();var t=e.target;c(n,r,"portfolio-item-active"),c(a,r,"dot-active"),t.matches("#arrow-right")?r++:t.matches("#arrow-left")?r--:t.matches(".dot")&&a.forEach((function(e,n){e===t&&(r=n)})),r>=n.length&&(r=0),r<0&&(r=n.length-1),u(n,r,"portfolio-item-active"),u(a,r,"dot-active")})),e.addEventListener("mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(o)})),e.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&i()})),i(3e3)}(),(p=document.querySelector("#command")).addEventListener("mouseover",(function(e){var t=e.target;"command__photo"===t.className&&(t.dataset.a=t.src,t.src=t.dataset.img)})),p.addEventListener("mouseout",(function(e){var t=e.target;"command__photo"===t.className&&(t.src=t.dataset.a)})),(h=document.querySelector(".calc-block")).addEventListener("focusout",(function(e){var t=e.target;t.matches("INPUT")&&(t.value=t.value.replace(/\D/g,""))})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),o=document.querySelector(".calc-count"),a=document.querySelector(".calc-day"),r=document.getElementById("total"),c=0,u=function(){var r=1,u=1,s=t.options[t.selectedIndex].value,i=+n.value;o.value>1&&(r+=(o.value-1)/10),a.value&&a.value<5?u*=2:a.value&&a.value<10&&(u*=1.5),c=s&&i?Math.round(e*s*i*r*u):0},s=function(){var e=0,t=Math.round(1e3/(c/10)),n=setInterval((function(){(e+=10)===c&&clearInterval(n),r.textContent=e}),t);h.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&clearInterval(n)}))};h.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&(u(),0!==c?s():r.textContent=c)}))}(100),function(){var e=document.createElement("div");e.textContent="Тут будет сообщение!",e.style.cssText="font-size: 2rem";var t=function(){var e=document.querySelectorAll("input"),t=document.querySelectorAll('button[type="submit"]');e.forEach((function(e){e.value=""})),t.forEach((function(e){e.disabled=!0}))};document.body.addEventListener("submit",(function(n){var o=n.target;if(o.matches("#form1, #form2, #form3")){n.preventDefault(),o.appendChild(e),e.textContent="Загрузка...";var a=new FormData(o),r={};a.forEach((function(e,t){r[t]=e})),function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(r).then((function(t){if(200!==t.status)throw new Error("status network not 200");e.textContent="Спасибо! Мы скоро с Вами свяжемся!"})).then(t).catch((function(t){e.textContent="Что-то пошло не так!",console.error("errorische",t)}))}}))}(),c=!1,u=!1,s=!1,i=!1,l=function(e){/^[а-яА-Я\s]+$/.test(e.value)?(e.style.background="#9eff78",c=!0):(e.style.background="#ffa2a2",c=!1),""!==e.value?e.value=e.value.split(/\s+/).map((function(e){return e[0].toUpperCase()+e.substring(1).toLowerCase()})).join(" "):e.placeholder="Имя русскими буквами"},d=function(e){/^\w+@{1}\w+\.\w{2,}$/.test(e.value)?(e.style.background="#9eff78",u=!0):(e.style.background="#ffa2a2",u=!1),e.value=e.value.replace(/_+/g,"_"),""===e.value&&(e.placeholder="Образец: mail@domen.zone")},m=function(e){/\+\d{11}/.test(e.value)?(e.style.background="#9eff78",s=!0):(e.style.background="#ffa2a2",s=!1),""===e.value&&(e.placeholder="Образец: +00000000000")},f=function(e){!0===c&&!0===u&&!0===s&&(e.disabled=!1)},v=function(e,t){e.addEventListener("focusout",(function(e){var n=e.target;n.matches(t)&&""===n.value&&(n.style.background="")}))},e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),n=document.querySelector(".popup-content"),o=0,t.forEach((function(t){t.addEventListener("click",(function(){var t=window.innerWidth;e.style.display="block";var a=document.querySelector("#form3"),r=a[3];r.disabled=!0,v(a,"#form3-name, #form3-email, #form3-phone"),a.addEventListener("input",(function(e){var t=e.target;t.matches("#form3-name")&&l(t),t.matches("#form3-email")&&d(t),t.matches("#form3-phone")&&m(t),f(r)})),t>768&&function e(){o++,n.style.top=-30+o+"%",o<50&&setTimeout(e,6)}()}))})),e.addEventListener("click",(function(t){var n=t.target;n.classList.contains("popup-close")?e.style.display="none":(n=n.closest(".popup-content"))||(e.style.display="none"),o=0})),a=document.querySelector("#form1"),(r=a[3]).disabled=!0,v(a,"#form1-name, #form1-email, #form1-phone"),a.addEventListener("input",(function(e){var t=e.target;t.matches("#form1-name")&&l(t),t.matches("#form1-email")&&d(t),t.matches("#form1-phone")&&m(t),f(r)})),function(){var e=document.querySelector("#form2"),t=e[4];t.disabled=!0,v(e,"#form2-name, #form2-email, #form2-phone, #form2-message"),e.addEventListener("input",(function(e){var n=e.target;n.matches("#form2-name")&&l(n),n.matches("#form2-email")&&d(n),n.matches("#form2-phone")&&m(n),n.matches("#form2-message")&&function(e){/^[\u0400-\u04FF\s\d\.\!\,-\:\(\)\"]+$/.test(e.value)?(e.style.background="#9eff78",i=!0):(e.style.background="#ffa2a2",i=!1),""===e.value&&(e.placeholder="Разрешен ввод только кирилицы")}(n),!0===c&&!0===u&&!0===s&&!0===i&&(t.disabled=!1)}))}()})();