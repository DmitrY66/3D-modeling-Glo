(()=>{"use strict";var e,t,n,o,a,r,c,s,i,l,d,u,m,f,v,p,y,h,g,b,E,x,L;(function(e){var t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds");function a(){var a,r,c,s=(a=(new Date(e).getTime()-(new Date).getTime())/1e3,r=Math.floor(a%60),c=Math.floor(a/60%60),{hours:Math.floor(a/60/60),minutes:c,seconds:r});s.seconds<10&&(s.seconds="0"+s.seconds),s.minutes<10&&(s.minutes="0"+s.minutes),s.hours<10&&(s.hours="0"+s.hours),t.textContent=s.hours,n.textContent=s.minutes,o.textContent=s.seconds}a();var r=setInterval(a,1e3,e);(new Date).getTime()>=new Date(e).getTime()&&(clearInterval(r),t.textContent="00",n.textContent="00",o.textContent="00")})("1 january 2022"),x=document.querySelector(".menu"),L=document.querySelector("menu"),x.addEventListener("click",(function(){L.classList.toggle("active-menu")})),L.addEventListener("click",(function(e){e.target.matches("a")&&L.classList.remove("active-menu")})),g=document.querySelector(".service-header"),b=document.querySelectorAll(".service-header-tab"),E=document.querySelectorAll(".service-tab"),g.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&b.forEach((function(e,n){e===t&&function(e){for(var t=0;t<E.length;t++)e===t?(b[t].classList.add("active"),E[t].classList.remove("d-none")):(b[t].classList.remove("active"),E[t].classList.add("d-none"))}(n)}))})),function(){var e=document.querySelector(".portfolio-content"),t=document.querySelector(".portfolio-dots"),n=document.querySelectorAll(".portfolio-item");n.length>0&&n.forEach((function(e,n){var o=document.createElement("li");o.classList.add("dot"),0===n&&o.classList.add("dot-active"),t.append(o)}));var o,a=document.querySelectorAll(".dot"),r=0,c=function(e,t,n){e[t].classList.remove(n)},s=function(e,t,n){e[t].classList.add(n)},i=function(){c(n,r,"portfolio-item-active"),c(a,r,"dot-active"),++r>=n.length&&(r=0),s(n,r,"portfolio-item-active"),s(a,r,"dot-active")},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;o=setInterval(i,e)};e.addEventListener("click",(function(e){e.preventDefault();var t=e.target;c(n,r,"portfolio-item-active"),c(a,r,"dot-active"),t.matches("#arrow-right")?r++:t.matches("#arrow-left")?r--:t.matches(".dot")&&a.forEach((function(e,n){e===t&&(r=n)})),r>=n.length&&(r=0),r<0&&(r=n.length-1),s(n,r,"portfolio-item-active"),s(a,r,"dot-active")})),e.addEventListener("mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(o)})),e.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&l()})),l(3e3)}(),(h=document.querySelector("#command")).addEventListener("mouseover",(function(e){var t=e.target;"command__photo"===t.className&&(t.dataset.a=t.src,t.src=t.dataset.img)})),h.addEventListener("mouseout",(function(e){var t=e.target;"command__photo"===t.className&&(t.src=t.dataset.a)})),(y=document.querySelector(".calc-block")).addEventListener("focusout",(function(e){var t=e.target;t.matches("INPUT")&&(t.value=t.value.replace(/\D/g,""))})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),o=document.querySelector(".calc-count"),a=document.querySelector(".calc-day"),r=document.getElementById("total"),c=0,s=function(){var r=1,s=1,i=t.options[t.selectedIndex].value,l=+n.value;o.value>1&&(r+=(o.value-1)/10),a.value&&a.value<5?s*=2:a.value&&a.value<10&&(s*=1.5),c=i&&l?Math.round(e*i*l*r*s):0},i=function(){var e=0,t=Math.round(100/(c/50)),n=setInterval((function(){(e+=50)>=c&&clearInterval(n),r.textContent=e}),t);y.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&clearInterval(n)}))};y.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&(s(),0!==c?i():r.textContent=c)}))}(100),function(){var e=document.createElement("div");e.textContent="Тут будет сообщение!",e.style.cssText="font-size: 2rem";var t=function(){var e=document.querySelectorAll("input"),t=document.querySelectorAll('button[type="submit"]');e.forEach((function(e){e.value=""})),t.forEach((function(e){e.disabled=!0}))};document.body.addEventListener("submit",(function(n){var o=n.target;if(o.matches("#form1, #form2, #form3")){n.preventDefault(),o.appendChild(e),e.textContent="Загрузка...";var a=new FormData(o),r={};a.forEach((function(e,t){r[t]=e})),function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(r).then((function(t){if(200!==t.status)throw new Error("status network not 200");e.textContent="Спасибо! Мы скоро с Вами свяжемся!"})).then(t).catch((function(t){e.textContent="Что-то пошло не так!",console.error("errorische",t)}))}}))}(),a=!1,r=!1,c=!1,s=!1,i='\n<p \nclass = "inserted"\nstyle ="color: #fff;\nbackground: red;\nfont-size: 14px;\nborder-radius: 8px;\npadding: 0 4px 0 4px;\nposition: absolute;\nz-index: 100;\ndisplay: none;\n">Введите имя русскими буквами</p>\n',l='\n<p \nclass = "inserted"\nstyle ="color: #fff;\nbackground: red;\nfont-size: 14px;\nborder-radius: 8px;\npadding: 0 4px 0 4px;\nposition: absolute;\nz-index: 100;\ndisplay: none;\n">Образец: mail@domen.zone</p>\n',d='\n<p \nclass = "inserted"\nstyle ="color: #fff;\nbackground: red;\nfont-size: 14px;\nborder-radius: 8px;\npadding: 0 4px 0 4px;\nposition: absolute;\nz-index: 100;\ndisplay: none;\n">Образец: +00000000000</p>\n',u=function(e){/^[а-яА-Я\s]+$/.test(e.value)?(e.style.background="#9eff78",e.nextElementSibling.style.display="none",a=!0):(e.style.background="#ffa2a2",e.nextElementSibling.style.display="block",a=!1),""!==e.value?e.value=e.value.split(/\s+/).map((function(e){return e[0].toUpperCase()+e.substring(1).toLowerCase()})).join(" "):e.placeholder="Имя русскими буквами"},m=function(e){/^\w+@{1}\w+\.\w{2,}$/.test(e.value)?(e.style.background="#9eff78",e.nextElementSibling.style.display="none",r=!0):(e.style.background="#ffa2a2",e.nextElementSibling.style.display="block",r=!1),e.value=e.value.replace(/_+/g,"_"),""===e.value&&(e.placeholder="Образец: mail@domen.zone")},f=function(e){/\+\d{11}/.test(e.value)?(e.style.background="#9eff78",e.nextElementSibling.style.display="none",c=!0):(e.style.background="#ffa2a2",e.nextElementSibling.style.display="block",c=!1),""===e.value&&(e.placeholder="Образец: +00000000000")},v=function(e){!0===a&&!0===r&&!0===c&&(e.disabled=!1)},p=function(e,t,n){e.addEventListener("focusout",(function(e){var o=e.target;o.matches(t)&&""===o.value&&(o.style.background="",n.forEach((function(e){e.style.display="none"})))}))},e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),n=document.querySelector(".popup-content"),o=0,t.forEach((function(t){t.addEventListener("click",(function(){var t=window.innerWidth;e.style.display="block";var a=document.querySelector("#form3");a[0].insertAdjacentHTML("afterEnd",i),a[1].insertAdjacentHTML("afterEnd",d),a[2].insertAdjacentHTML("afterEnd",l);var r=a.querySelectorAll(".inserted"),c=a[3];c.disabled=!0,p(a,"#form3-name, #form3-email, #form3-phone",r),a.addEventListener("input",(function(e){var t=e.target;t.matches("#form3-name")&&u(t),t.matches("#form3-email")&&m(t),t.matches("#form3-phone")&&f(t),v(c)})),t>768&&function e(){o++,n.style.top=-30+o+"%",o<50&&setTimeout(e,6)}()}))})),e.addEventListener("click",(function(t){var n=t.target;n.classList.contains("popup-close")?e.style.display="none":(n=n.closest(".popup-content"))||(e.style.display="none"),o=0})),function(){var e=document.querySelector("#form1");e[0].insertAdjacentHTML("afterEnd",i),e[1].insertAdjacentHTML("afterEnd",l),e[2].insertAdjacentHTML("afterEnd",d);var t=e.querySelectorAll(".inserted"),n=e[3];n.disabled=!0,p(e,"#form1-name, #form1-email, #form1-phone",t),e.addEventListener("input",(function(e){var t=e.target;t.matches("#form1-name")&&u(t),t.matches("#form1-email")&&m(t),t.matches("#form1-phone")&&f(t),v(n)}))}(),function(){var e=document.querySelector("#form2");e[0].insertAdjacentHTML("afterEnd",i),e[1].insertAdjacentHTML("afterEnd",l),e[2].insertAdjacentHTML("afterEnd",d),e[3].insertAdjacentHTML("afterEnd",'\n<p \nclass = "inserted"\nstyle ="color: #fff;\nbackground: red;\nfont-size: 14px;\nborder-radius: 8px;\npadding: 0 4px 0 4px;\nposition: absolute;\nz-index: 100;\ndisplay: none;\n">Разрешен ввод только кирилицы</p>\n');var t=e.querySelectorAll(".inserted"),n=e[4];n.disabled=!0,p(e,"#form2-name, #form2-email, #form2-phone, #form2-message",t),e.addEventListener("input",(function(e){var t=e.target;t.matches("#form2-name")&&u(t),t.matches("#form2-email")&&m(t),t.matches("#form2-phone")&&f(t),t.matches("#form2-message")&&function(e){/^[\u0400-\u04FF\s\d\.\!\,-\:\(\)\"]+$/.test(e.value)?(e.style.background="#9eff78",e.nextElementSibling.style.display="none",s=!0):(e.style.background="#ffa2a2",e.nextElementSibling.style.display="block",s=!1),""===e.value&&(e.placeholder="Разрешен ввод только кирилицы")}(t),!0===a&&!0===r&&!0===c&&!0===s&&(n.disabled=!1)}))}()})();