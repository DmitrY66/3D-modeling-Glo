(()=>{"use strict";(function(e){let t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds");function s(){let s=function(){let t=(new Date(e).getTime()-(new Date).getTime())/1e3,n=Math.floor(t%60),o=Math.floor(t/60%60);return{hours:Math.floor(t/60/60),minutes:o,seconds:n}}();s.seconds<10&&(s.seconds="0"+s.seconds),s.minutes<10&&(s.minutes="0"+s.minutes),s.hours<10&&(s.hours="0"+s.hours),t.textContent=s.hours,n.textContent=s.minutes,o.textContent=s.seconds}s();let i=setInterval(s,1e3,e);(new Date).getTime()>=new Date(e).getTime()&&(clearInterval(i),t.textContent="00",n.textContent="00",o.textContent="00")})("1 january 2022"),(()=>{const e=document.querySelector(".menu"),t=document.querySelector("menu");e.addEventListener("click",(()=>{t.classList.toggle("active-menu")})),t.addEventListener("click",(e=>{e.target.matches("a")&&t.classList.remove("active-menu")}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),n=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let o=e.target;o=o.closest(".service-header-tab"),o&&t.forEach(((e,s)=>{e===o&&(e=>{for(let o=0;o<n.length;o++)e===o?(t[o].classList.add("active"),n[o].classList.remove("d-none")):(t[o].classList.remove("active"),n[o].classList.add("d-none"))})(s)}))}))})(),(()=>{const e=document.querySelector(".portfolio-content"),t=document.querySelector(".portfolio-dots"),n=document.querySelectorAll(".portfolio-item");n.length>0&&n.forEach(((e,n)=>{const o=document.createElement("li");o.classList.add("dot"),0===n&&o.classList.add("dot-active"),t.append(o)}));const o=document.querySelectorAll(".dot");let s,i=0;const r=(e,t,n)=>{e[t].classList.remove(n)},a=(e,t,n)=>{e[t].classList.add(n)},l=()=>{r(n,i,"portfolio-item-active"),r(o,i,"dot-active"),i++,i>=n.length&&(i=0),a(n,i,"portfolio-item-active"),a(o,i,"dot-active")},d=(e=3e3)=>{s=setInterval(l,e)};e.addEventListener("click",(e=>{e.preventDefault();let t=e.target;r(n,i,"portfolio-item-active"),r(o,i,"dot-active"),t.matches("#arrow-right")?i++:t.matches("#arrow-left")?i--:t.matches(".dot")&&o.forEach(((e,n)=>{e===t&&(i=n)})),i>=n.length&&(i=0),i<0&&(i=n.length-1),a(n,i,"portfolio-item-active"),a(o,i,"dot-active")})),e.addEventListener("mouseover",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(s)})),e.addEventListener("mouseout",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&d()})),d(3e3)})(),(()=>{const e=document.querySelector("#command");e.addEventListener("mouseover",(e=>{let t=e.target;"command__photo"===t.className&&(t.dataset.a=t.src,t.src=t.dataset.img)})),e.addEventListener("mouseout",(e=>{let t=e.target;"command__photo"===t.className&&(t.src=t.dataset.a)}))})(),(()=>{const e=document.querySelector(".calc-block");e.addEventListener("focusout",(e=>{let t=e.target;t.matches("INPUT")&&(t.value=t.value.replace(/\D/g,""))})),((t=100)=>{const n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),s=document.querySelector(".calc-count"),i=document.querySelector(".calc-day"),r=document.getElementById("total");let a=0;e.addEventListener("change",(l=>{const d=l.target;(d.matches("select")||d.matches("input"))&&((()=>{let e=1,r=1;const l=n.options[n.selectedIndex].value,d=+o.value;s.value>1&&(e+=(s.value-1)/10),i.value&&i.value<5?r*=2:i.value&&i.value<10&&(r*=1.5),a=l&&d?Math.round(t*l*d*e*r):0})(),0!==a?(()=>{let t=0,n=Math.round(100/(a/50)),o=setInterval((()=>{t+=50,t>=a&&clearInterval(o),r.textContent=t}),n);e.addEventListener("change",(e=>{const t=e.target;(t.matches("select")||t.matches("input"))&&clearInterval(o)}))})():r.textContent=a)}))})(100)})(),(()=>{const e=document.createElement("div");e.textContent="Тут будет сообщение!",e.style.cssText="font-size: 2rem";const t=()=>{const e=document.querySelectorAll("input"),t=document.querySelectorAll('button[type="submit"]');e.forEach((e=>{e.value=""})),t.forEach((e=>{e.disabled=!0}))};document.body.addEventListener("submit",(n=>{const o=n.target;if(o.matches("#form1, #form2, #form3")){n.preventDefault(),o.appendChild(e),e.textContent="Загрузка...";const s=new FormData(o);let i={};s.forEach(((e,t)=>{i[t]=e})),(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(i).then((t=>{if(200!==t.status)throw new Error("status network not 200");e.textContent="Спасибо! Мы скоро с Вами свяжемся!"})).then(t).catch((t=>{e.textContent="Что-то пошло не так!",console.error("errorische",t)}))}}))})(),(()=>{let e=!1,t=!1,n=!1,o=!1;const s='\n<p \nclass = "inserted"\nstyle ="color: #fff;\nbackground: red;\nfont-size: 14px;\nborder-radius: 8px;\npadding: 0 4px 0 4px;\nposition: absolute;\nz-index: 100;\ndisplay: none;\n">Введите имя русскими буквами</p>\n',i='\n<p \nclass = "inserted"\nstyle ="color: #fff;\nbackground: red;\nfont-size: 14px;\nborder-radius: 8px;\npadding: 0 4px 0 4px;\nposition: absolute;\nz-index: 100;\ndisplay: none;\n">Образец: mail@domen.zone</p>\n',r='\n<p \nclass = "inserted"\nstyle ="color: #fff;\nbackground: red;\nfont-size: 14px;\nborder-radius: 8px;\npadding: 0 4px 0 4px;\nposition: absolute;\nz-index: 100;\ndisplay: none;\n">Образец: +00000000000</p>\n',a=t=>{/^[а-яА-Я\s]+$/.test(t.value)?(t.style.background="#9eff78",t.nextElementSibling.style.display="none",e=!0):(t.style.background="#ffa2a2",t.nextElementSibling.style.display="block",e=!1),""!==t.value?t.value=t.value.split(/\s+/).map((e=>e[0].toUpperCase()+e.substring(1).toLowerCase())).join(" "):t.placeholder="Имя русскими буквами"},l=e=>{/^\w+@{1}\w+\.\w{2,}$/.test(e.value)?(e.style.background="#9eff78",e.nextElementSibling.style.display="none",t=!0):(e.style.background="#ffa2a2",e.nextElementSibling.style.display="block",t=!1),e.value=e.value.replace(/_+/g,"_"),""===e.value&&(e.placeholder="Образец: mail@domen.zone")},d=e=>{/\+\d{11}/.test(e.value)?(e.style.background="#9eff78",e.nextElementSibling.style.display="none",n=!0):(e.style.background="#ffa2a2",e.nextElementSibling.style.display="block",n=!1),""===e.value&&(e.placeholder="Образец: +00000000000")},c=o=>{!0===e&&!0===t&&!0===n&&(o.disabled=!1)},m=(e,t,n)=>{e.addEventListener("focusout",(e=>{let o=e.target;o.matches(t)&&""===o.value&&(o.style.background="",n.forEach((e=>{e.style.display="none"})))}))};(()=>{const e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),n=document.querySelector(".popup-content");let o=0;t.forEach((t=>{t.addEventListener("click",(()=>{let t=window.innerWidth;e.style.display="block";const p=document.querySelector("#form3");p[0].insertAdjacentHTML("afterEnd",s),p[1].insertAdjacentHTML("afterEnd",r),p[2].insertAdjacentHTML("afterEnd",i);const u=p.querySelectorAll(".inserted"),h=p[3];if(h.disabled=!0,m(p,"#form3-name, #form3-email, #form3-phone",u),p.addEventListener("input",(e=>{let t=e.target;t.matches("#form3-name")&&a(t),t.matches("#form3-email")&&l(t),t.matches("#form3-phone")&&d(t),c(h)})),t>768){const e=()=>{o++,n.style.top=-30+o+"%",o<50&&setTimeout(e,6)};e()}}))})),e.addEventListener("click",(t=>{let n=t.target;n.classList.contains("popup-close")?e.style.display="none":(n=n.closest(".popup-content"),n||(e.style.display="none")),o=0}))})(),(()=>{const e=document.querySelector("#form1");e[0].insertAdjacentHTML("afterEnd",s),e[1].insertAdjacentHTML("afterEnd",i),e[2].insertAdjacentHTML("afterEnd",r);const t=e.querySelectorAll(".inserted"),n=e[3];n.disabled=!0,m(e,"#form1-name, #form1-email, #form1-phone",t),e.addEventListener("input",(e=>{let t=e.target;t.matches("#form1-name")&&a(t),t.matches("#form1-email")&&l(t),t.matches("#form1-phone")&&d(t),c(n)}))})(),(()=>{const c=document.querySelector("#form2");c[0].insertAdjacentHTML("afterEnd",s),c[1].insertAdjacentHTML("afterEnd",i),c[2].insertAdjacentHTML("afterEnd",r),c[3].insertAdjacentHTML("afterEnd",'\n<p \nclass = "inserted"\nstyle ="color: #fff;\nbackground: red;\nfont-size: 14px;\nborder-radius: 8px;\npadding: 0 4px 0 4px;\nposition: absolute;\nz-index: 100;\ndisplay: none;\n">Разрешен ввод только кирилицы</p>\n');const p=c.querySelectorAll(".inserted"),u=c[4];u.disabled=!0,m(c,"#form2-name, #form2-email, #form2-phone, #form2-message",p),c.addEventListener("input",(s=>{let i=s.target;i.matches("#form2-name")&&a(i),i.matches("#form2-email")&&l(i),i.matches("#form2-phone")&&d(i),i.matches("#form2-message")&&(e=>{/^[\u0400-\u04FF\s\d\.\!\,-\:\(\)\"]+$/.test(e.value)?(e.style.background="#9eff78",e.nextElementSibling.style.display="none",o=!0):(e.style.background="#ffa2a2",e.nextElementSibling.style.display="block",o=!1),""===e.value&&(e.placeholder="Разрешен ввод только кирилицы")})(i),!0===e&&!0===t&&!0===n&&!0===o&&(u.disabled=!1)}))})()})(),new class{constructor({main:e,wrap:t,next:n,prev:o,infinity:s=!1,position:i=0,slidesToShow:r=3,responsive:a=[]}){e&&t||console.warn('slider-carousel: Необходимы 2 свойства, "main" и "wrap"!'),this.main=document.querySelector(e),this.wrap=document.querySelector(t),this.slides=document.querySelector(t).children,this.next=document.querySelector(n),this.prev=document.querySelector(o),this.slidesToShow=r,this.options={position:i,infinity:s,widthSlide:Math.floor(100/this.slidesToShow),maxPosition:this.slides.length-this.slidesToShow},this.responsive=a}init(){this.addGloClass(),this.addStyle(),this.next&&this.prev||this.addArrow(),this.controlSlider(),this.responsive&&this.responseInit()}addGloClass(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrap");for(const e of this.slides)e.classList.add("glo-slider__item")}addStyle(){let e=document.getElementById("sliderCarousel-style");e||(e=document.createElement("style"),e.id="sliderCarousel-style"),e.textContent=`\n        .glo-slider{\n          overflow: hidden !important;\n          // background: black;\n        }\n        .glo-slider__wrap{\n          display: flex !important;\n          transition: transform 0.5s !important;\n          will-change: transform !important;\n        }\n        .glo-slider__item{\n          display: flex !important;\n          align-items: center;\n          justify-content: center;\n          flex: 0 0 ${this.options.widthSlide}% !important;\n          margin: auto 0 !important;\n        }\n        .glo-slider__prev,\n        .glo-slider__next{\n          margin: 0 20px;\n          border: 20px solid transparent;\n          background: transparent;\n        }\n        .glo-slider__next{\n          border-left-color: #19b5fe;\n        }\n        .glo-slider__prev{\n          border-right-color: #19b5fe;\n        }\n        body .companies-wrapper button:hover{\n          background: transparent;\n          outline: transparent;\n        }\n        `,document.head.appendChild(e)}controlSlider(){this.next.addEventListener("click",this.nextSlider.bind(this)),this.prev.addEventListener("click",this.prevtSlider.bind(this))}prevtSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.options.maxPosition),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.options.maxPosition)&&(++this.options.position,this.options.position>this.options.maxPosition&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.widthSlide}%)`)}addArrow(){this.prev=document.createElement("button"),this.next=document.createElement("button"),this.prev.className="glo-slider__prev",this.next.className="glo-slider__next",this.main.appendChild(this.prev),this.main.appendChild(this.next)}responseInit(){const e=this.slidesToShow,t=this.responsive.map((e=>e.breakpoint)),n=Math.max(...t),o=()=>{const o=document.documentElement.clientWidth;if(o<n)for(let e=0;e<t.length;e++)o<t[e]&&(this.slidesToShow=this.responsive[e].slideToShow,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle());else this.slidesToShow=e,this.options.widthSlide=Math.floor(100/this.slidesToShow),this.addStyle()};o(),window.addEventListener("resize",o)}}({main:".companies-wrapper",wrap:".companies-hor",slidesToShow:4,infinity:!0,responsive:[{breakpoint:1024,slideToShow:3},{breakpoint:768,slideToShow:2},{breakpoint:576,slideToShow:1}]}).init()})();