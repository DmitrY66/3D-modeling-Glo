(()=>{"use strict";(function(e){let t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds");function a(){let a=function(){let t=(new Date(e).getTime()-(new Date).getTime())/1e3,n=Math.floor(t%60),o=Math.floor(t/60%60);return{hours:Math.floor(t/60/60),minutes:o,seconds:n}}();a.seconds<10&&(a.seconds="0"+a.seconds),a.minutes<10&&(a.minutes="0"+a.minutes),a.hours<10&&(a.hours="0"+a.hours),t.textContent=a.hours,n.textContent=a.minutes,o.textContent=a.seconds}a();let s=setInterval(a,1e3,e);(new Date).getTime()>=new Date(e).getTime()&&(clearInterval(s),t.textContent="00",n.textContent="00",o.textContent="00")})("1 january 2022"),(()=>{const e=document.querySelector(".menu"),t=document.querySelector("menu");e.addEventListener("click",(()=>{t.classList.toggle("active-menu")})),t.addEventListener("click",(e=>{e.target.matches("a")&&t.classList.remove("active-menu")}))})(),(()=>{const e=document.querySelector(".service-header"),t=document.querySelectorAll(".service-header-tab"),n=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let o=e.target;o=o.closest(".service-header-tab"),o&&t.forEach(((e,a)=>{e===o&&(e=>{for(let o=0;o<n.length;o++)e===o?(t[o].classList.add("active"),n[o].classList.remove("d-none")):(t[o].classList.remove("active"),n[o].classList.add("d-none"))})(a)}))}))})(),(()=>{const e=document.querySelector(".portfolio-content"),t=document.querySelector(".portfolio-dots"),n=document.querySelectorAll(".portfolio-item");n.length>0&&n.forEach(((e,n)=>{const o=document.createElement("li");o.classList.add("dot"),0===n&&o.classList.add("dot-active"),t.append(o)}));const o=document.querySelectorAll(".dot");let a,s=0;const r=(e,t,n)=>{e[t].classList.remove(n)},l=(e,t,n)=>{e[t].classList.add(n)},c=()=>{r(n,s,"portfolio-item-active"),r(o,s,"dot-active"),s++,s>=n.length&&(s=0),l(n,s,"portfolio-item-active"),l(o,s,"dot-active")},d=(e=3e3)=>{a=setInterval(c,e)};e.addEventListener("click",(e=>{e.preventDefault();let t=e.target;r(n,s,"portfolio-item-active"),r(o,s,"dot-active"),t.matches("#arrow-right")?s++:t.matches("#arrow-left")?s--:t.matches(".dot")&&o.forEach(((e,n)=>{e===t&&(s=n)})),s>=n.length&&(s=0),s<0&&(s=n.length-1),l(n,s,"portfolio-item-active"),l(o,s,"dot-active")})),e.addEventListener("mouseover",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(a)})),e.addEventListener("mouseout",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&d()})),d(3e3)})(),(()=>{const e=document.querySelector("#command");e.addEventListener("mouseover",(e=>{let t=e.target;"command__photo"===t.className&&(t.dataset.a=t.src,t.src=t.dataset.img)})),e.addEventListener("mouseout",(e=>{let t=e.target;"command__photo"===t.className&&(t.src=t.dataset.a)}))})(),(()=>{const e=document.querySelector(".calc-block");e.addEventListener("focusout",(e=>{let t=e.target;t.matches("INPUT")&&(t.value=t.value.replace(/\D/g,""))})),((t=100)=>{const n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),a=document.querySelector(".calc-count"),s=document.querySelector(".calc-day"),r=document.getElementById("total");let l=0;e.addEventListener("change",(c=>{const d=c.target;(d.matches("select")||d.matches("input"))&&((()=>{let e=1,r=1;const c=n.options[n.selectedIndex].value,d=+o.value;a.value>1&&(e+=(a.value-1)/10),s.value&&s.value<5?r*=2:s.value&&s.value<10&&(r*=1.5),l=c&&d?Math.round(t*c*d*e*r):0})(),0!==l?(()=>{let t=0,n=Math.round(100/(l/50)),o=setInterval((()=>{t+=50,t>=l&&clearInterval(o),r.textContent=t}),n);e.addEventListener("change",(e=>{const t=e.target;(t.matches("select")||t.matches("input"))&&clearInterval(o)}))})():r.textContent=l)}))})(100)})(),(()=>{const e=document.createElement("div");e.textContent="Тут будет сообщение!",e.style.cssText="font-size: 2rem";const t=()=>{const e=document.querySelectorAll("input"),t=document.querySelectorAll('button[type="submit"]');e.forEach((e=>{e.value=""})),t.forEach((e=>{e.disabled=!0}))};document.body.addEventListener("submit",(n=>{const o=n.target;if(o.matches("#form1, #form2, #form3")){n.preventDefault(),o.appendChild(e),e.textContent="Загрузка...";const a=new FormData(o);let s={};a.forEach(((e,t)=>{s[t]=e})),(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(s).then((t=>{if(200!==t.status)throw new Error("status network not 200");e.textContent="Спасибо! Мы скоро с Вами свяжемся!"})).then(t).catch((t=>{e.textContent="Что-то пошло не так!",console.error("errorische",t)}))}}))})(),(()=>{let e=!1,t=!1,n=!1,o=!1;const a='\n<p \nclass = "inserted"\nstyle ="color: #fff;\nbackground: red;\nfont-size: 14px;\nborder-radius: 8px;\npadding: 0 4px 0 4px;\nposition: absolute;\nz-index: 100;\ndisplay: none;\n">Введите имя русскими буквами</p>\n',s='\n<p \nclass = "inserted"\nstyle ="color: #fff;\nbackground: red;\nfont-size: 14px;\nborder-radius: 8px;\npadding: 0 4px 0 4px;\nposition: absolute;\nz-index: 100;\ndisplay: none;\n">Образец: mail@domen.zone</p>\n',r='\n<p \nclass = "inserted"\nstyle ="color: #fff;\nbackground: red;\nfont-size: 14px;\nborder-radius: 8px;\npadding: 0 4px 0 4px;\nposition: absolute;\nz-index: 100;\ndisplay: none;\n">Образец: +00000000000</p>\n',l=t=>{/^[а-яА-Я\s]+$/.test(t.value)?(t.style.background="#9eff78",t.nextElementSibling.style.display="none",e=!0):(t.style.background="#ffa2a2",t.nextElementSibling.style.display="block",e=!1),""!==t.value?t.value=t.value.split(/\s+/).map((e=>e[0].toUpperCase()+e.substring(1).toLowerCase())).join(" "):t.placeholder="Имя русскими буквами"},c=e=>{/^\w+@{1}\w+\.\w{2,}$/.test(e.value)?(e.style.background="#9eff78",e.nextElementSibling.style.display="none",t=!0):(e.style.background="#ffa2a2",e.nextElementSibling.style.display="block",t=!1),e.value=e.value.replace(/_+/g,"_"),""===e.value&&(e.placeholder="Образец: mail@domen.zone")},d=e=>{/\+\d{11}/.test(e.value)?(e.style.background="#9eff78",e.nextElementSibling.style.display="none",n=!0):(e.style.background="#ffa2a2",e.nextElementSibling.style.display="block",n=!1),""===e.value&&(e.placeholder="Образец: +00000000000")},i=o=>{!0===e&&!0===t&&!0===n&&(o.disabled=!1)},u=(e,t,n)=>{e.addEventListener("focusout",(e=>{let o=e.target;o.matches(t)&&""===o.value&&(o.style.background="",n.forEach((e=>{e.style.display="none"})))}))};(()=>{const e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),n=document.querySelector(".popup-content");let o=0;t.forEach((t=>{t.addEventListener("click",(()=>{let t=window.innerWidth;e.style.display="block";const m=document.querySelector("#form3");m[0].insertAdjacentHTML("afterEnd",a),m[1].insertAdjacentHTML("afterEnd",r),m[2].insertAdjacentHTML("afterEnd",s);const p=m.querySelectorAll(".inserted"),f=m[3];if(f.disabled=!0,u(m,"#form3-name, #form3-email, #form3-phone",p),m.addEventListener("input",(e=>{let t=e.target;t.matches("#form3-name")&&l(t),t.matches("#form3-email")&&c(t),t.matches("#form3-phone")&&d(t),i(f)})),t>768){const e=()=>{o++,n.style.top=-30+o+"%",o<50&&setTimeout(e,6)};e()}}))})),e.addEventListener("click",(t=>{let n=t.target;n.classList.contains("popup-close")?e.style.display="none":(n=n.closest(".popup-content"),n||(e.style.display="none")),o=0}))})(),(()=>{const e=document.querySelector("#form1");e[0].insertAdjacentHTML("afterEnd",a),e[1].insertAdjacentHTML("afterEnd",s),e[2].insertAdjacentHTML("afterEnd",r);const t=e.querySelectorAll(".inserted"),n=e[3];n.disabled=!0,u(e,"#form1-name, #form1-email, #form1-phone",t),e.addEventListener("input",(e=>{let t=e.target;t.matches("#form1-name")&&l(t),t.matches("#form1-email")&&c(t),t.matches("#form1-phone")&&d(t),i(n)}))})(),(()=>{const i=document.querySelector("#form2");i[0].insertAdjacentHTML("afterEnd",a),i[1].insertAdjacentHTML("afterEnd",s),i[2].insertAdjacentHTML("afterEnd",r),i[3].insertAdjacentHTML("afterEnd",'\n<p \nclass = "inserted"\nstyle ="color: #fff;\nbackground: red;\nfont-size: 14px;\nborder-radius: 8px;\npadding: 0 4px 0 4px;\nposition: absolute;\nz-index: 100;\ndisplay: none;\n">Разрешен ввод только кирилицы</p>\n');const m=i.querySelectorAll(".inserted"),p=i[4];p.disabled=!0,u(i,"#form2-name, #form2-email, #form2-phone, #form2-message",m),i.addEventListener("input",(a=>{let s=a.target;s.matches("#form2-name")&&l(s),s.matches("#form2-email")&&c(s),s.matches("#form2-phone")&&d(s),s.matches("#form2-message")&&(e=>{/^[\u0400-\u04FF\s\d\.\!\,-\:\(\)\"]+$/.test(e.value)?(e.style.background="#9eff78",e.nextElementSibling.style.display="none",o=!0):(e.style.background="#ffa2a2",e.nextElementSibling.style.display="block",o=!1),""===e.value&&(e.placeholder="Разрешен ввод только кирилицы")})(s),!0===e&&!0===t&&!0===n&&!0===o&&(p.disabled=!1)}))})()})()})();